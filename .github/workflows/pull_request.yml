on: pull_request
name: test on PRs
jobs:
  pullRequestOpened:
    name: pull request opened
    runs-on: ubuntu-latest
    on:
      pull_request:
        types: [opened, synchronize]
    steps:
    - uses: actions/checkout@master
    - name: go test -race ./...
      uses: ./.github/action/go-tools
      with:
        args: test -race ./...
